{"version":3,"sources":["../../../src/tests/api/create-request.test.js"],"names":["dotenv","config","chai","use","chaiHttp","should","done","request","server","post","send","title","itemType","description","category","userId","set","end","req","res","have","status","be","a","body","property","eql"],"mappings":";;;;AACA;;AACA;;AACA;;AACA;;AAEA;;AANA;AAQAA,mBAAOC,MAAP;;AACAC,iBAAKC,GAAL,CAASC,oBAAT;;AACAF,iBAAKG,MAAL,G,CAEA;AACA;;;AAEA,qBAAS,QAAT,EAAmB,YAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,iBAAG,0CAAH,EAA+C,UAACC,IAAD,EAAU;AACvDJ,qBAAKK,OAAL,CAAaC,WAAb,EACGC,IADH,CACQ,yBADR,EAEGC,IAFH,CAEQ;AACJC,MAAAA,KAAK,EAAE,wBADH;AAEJC,MAAAA,QAAQ,EAAE,aAFN;AAGJC,MAAAA,WAAW,EAAE,YAHT;AAIJC,MAAAA,QAAQ,EAAE,aAJN;AAKJC,MAAAA,MAAM,EAAE;AALJ,KAFR,EAQKC,GARL,CAQS,eART,EAQ0B,yBAR1B,EASGC,GATH,CASO,UAACC,GAAD,EAAMC,GAAN,EAAc;AACjBA,MAAAA,GAAG,CAACd,MAAJ,CAAWe,IAAX,CAAgBC,MAAhB,CAAuB,GAAvB;AACAF,MAAAA,GAAG,CAACd,MAAJ,CAAWiB,EAAX,CAAcC,CAAd,CAAgB,QAAhB;AACAJ,MAAAA,GAAG,CAACK,IAAJ,CAASnB,MAAT,CAAgBe,IAAhB,CAAqBK,QAArB,CAA8B,SAA9B,EAAyCC,GAAzC,CAA6C,aAA7C;AACApB,MAAAA,IAAI;AACL,KAdH;AAeD,GAhBD;AAiBD,CArCD","sourcesContent":["/* eslint-disable linebreak-style */\r\nimport { describe, it } from 'mocha';\r\nimport chai from 'chai';\r\nimport chaiHttp from 'chai-http';\r\nimport dotenv from 'dotenv';\r\n\r\nimport { server } from '../../app';\r\n\r\ndotenv.config();\r\nchai.use(chaiHttp);\r\nchai.should();\r\n\r\n// eslint-disable-next-line max-len\r\n// const token = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRyZXFlQGdtYWlsLmNvbSIsInBhc3N3b3JkIjoidHJlcTEyMyIsImlhdCI6MTU3NDQyOTc5NiwiZXhwIjoxNTc0NTE2MTk2fQ.W-D376TuknwNECLEkH8eaKjOhSMzyjJJkk76hnZdqCY';\r\n\r\ndescribe('POST /', () => {\r\n  // it('should have a status 201 when request has been successfully created', (done) => {\r\n  //   chai.request(server)\r\n  //     .post('/api/v1/users/requests/')\r\n  //     .send({\r\n  //       title: 'Laptop port is on fire',\r\n  //       itemType: 'Accespories',\r\n  //       description: 'Burnt PORT',\r\n  //       category: 'replacement',\r\n  //       userId: 4,\r\n  //     }).set('Authorization', `bearer ${token}`)\r\n  //     .end((req, res) => {\r\n  //       res.should.have.status(201);\r\n  //       res.should.be.a('object');\r\n  //       res.body.should.have.property('message').eql('Request Created');\r\n  //       res.body.should.have.property('code').eql(201);\r\n  //       done();\r\n  //     });\r\n  // });\r\n\r\n  it('should have a status 401 when auth fails', (done) => {\r\n    chai.request(server)\r\n      .post('/api/v1/users/requests/')\r\n      .send({\r\n        title: 'Laptop port is on fire',\r\n        itemType: 'Accespories',\r\n        description: 'Burnt PORT',\r\n        category: 'replacement',\r\n        userId: 4,\r\n      }).set('Authorization', 'bearer hubdshbhbhjvdshj')\r\n      .end((req, res) => {\r\n        res.should.have.status(401);\r\n        res.should.be.a('object');\r\n        res.body.should.have.property('message').eql('Auth failed');\r\n        done();\r\n      });\r\n  });\r\n});\r\n"],"file":"create-request.test.js"}